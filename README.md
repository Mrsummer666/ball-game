球球大作战 Plus - 网页版

基于原版C++代码精确重构的网页版游戏，采用模块化架构设计，完整复现经典游戏体验。

项目概述

这是一个经典的球球大作战游戏的网页重制版，完全基于原版C++源码的核心逻辑进行开发。
游戏使用HTML5 Canvas + JavaScript ES6+技术栈，实现了完整的游戏机制，包括智能AI对手、物理碰撞检测、程序化音乐生成等原版游戏的所有特性。项目采用模块化架构设计，代码结构清晰，易于维护和扩展。

项目结构

```
├── index.html            主页面，游戏入口
├── css/
│   └── styles.css        样式文件，负责游戏界面美化
├── js/
│   ├── game.js           游戏主逻辑，包含核心游戏机制
│   ├── audio.js          音频系统，实现程序化音乐生成
│   ├── render.js         渲染系统，负责Canvas绘制
│   ├── input.js          输入处理，管理键盘事件
│   └── ui.js             UI管理，控制游戏界面元素
├── main.cpp              原版C++源码（参考文件）
└── README.md             项目说明文档
```

快速开始
方法一：直接运行
1. 克隆或下载项目到本地
2. 找到项目根目录下的 `index.html` 文件
3. 直接双击该文件，浏览器会自动打开并运行游戏
方法二：使用本地服务器
1. 克隆项目到本地
   ```bash
   git clone <repository-url>
   cd ball-battle-plus
   ```
2. 启动本地服务器
   ```bash
   使用Python启动简单HTTP服务器
   python -m http.server 8000
   或者使用Node.js的http-server（需先安装：npm install -g http-server）
   http-server -p 8000
   ```
3. 在浏览器中访问 `http://localhost:8000` 即可开始游戏

游戏特性
精确重现原版体验
完全基于原版C++源码的逻辑进行开发，确保游戏机制、物理碰撞、AI行为等与原版保持一致，让老玩家能够找回熟悉的游戏感觉。
程序化音乐系统
根据玩家角色的半径大小自动切换背景音乐风格：
当玩家体积较小时，播放舒缓的背景音乐
当玩家体积增大到一定程度（半径≥80），自动切换为激昂的旋律
音乐通过Web Audio API实时生成，无需外部音频文件
智能AI对手
AI对手具有以下特点：
只在玩家移动时才会主动远离，增加游戏的挑战性
行为带有一定随机性，避免机械重复的模式
会根据游戏场景动态调整策略，提供更加真实的对抗体验
完整游戏机制
实现了原版游戏的所有核心功能：
分离体系统：玩家可以分裂成多个小球
孢子发射：发射小球吸引其他玩家
合并功能：小体积球可以合并成大球
颜色变化：根据玩家体积动态调整颜色
物理碰撞：真实的碰撞检测和物理运动
性能优化
针对Web环境进行了多项性能优化：
动态调整渲染对象数量，减少不必要的计算
使用Canvas的requestAnimationFrame实现流畅动画
优化碰撞检测算法，提高游戏运行效率

控制方式
**WASD/方向键**：控制玩家移动方向
**空格键**：分裂成多个小球（需要达到一定体积）
**Shift键**：发射孢子（小体积球）
**Ctrl键**：合并分离的小球

音乐系统详解
游戏使用Web Audio API实现了完全的程序化音乐生成：
背景音乐（ball类型）：使用A3（220Hz）作为基频，C大调音阶，营造舒缓氛围
进化音乐（evolve类型）：使用E4（330Hz）作为基频，E小调音阶，创造激昂的游戏节奏
音乐包含多个谐波叠加，通过包络控制实现自然的音量变化
采用4秒循环设计，确保音乐流畅衔接

技术栈
前端框架：纯HTML5 + JavaScript ES6+，无第三方框架依赖
图形渲染：HTML5 Canvas API
音频处理：Web Audio API
样式设计：CSS3（响应式设计，支持不同屏幕尺寸）
代码架构：模块化设计，每个功能独立封装

开发说明
模块化设计优势
项目采用模块化架构，将游戏功能拆分为独立的模块：
低耦合：各模块之间通过清晰的接口通信，减少相互依赖
高内聚：每个模块专注于单一功能，代码逻辑清晰
易扩展：可以轻松添加新功能或修改现有功能
易维护：定位和修复问题更加方便
主要模块功能
`game.js`：游戏核心逻辑，包括物理引擎、碰撞检测、AI行为等
`render.js`：负责将游戏状态渲染到Canvas上，处理视觉效果
`audio.js`：实现程序化音乐生成和播放控制
`input.js`：管理键盘输入事件，将玩家操作转换为游戏指令
`ui.js`：控制游戏界面元素，如分数显示、游戏状态提示等

贡献
欢迎提交Issue和Pull Request来改进这个项目！


---

经典游戏的现代网页重制！